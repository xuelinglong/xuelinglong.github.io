---
title: '2018-01-20'
date: 2018-01-20 19:47:20
tags: 周报
---

# 本周做的事
修复之前发现的问题。

# 遇到的难点
## 组件的生命周期
| cycle | describe |
| :---- | :------- |
| beforeCreate | 组件实例刚刚被创建，属性都没有 |
| created | 实例已经创建完成，属性已经绑定，但是DOM还没有生成 |
| beforeMount | 模板编译之前 |
| mounted | 模板编译完成，之前的 ready 变成了现在的 mounted |
| beforeUpdate | 组件更新之前 |
| updated | 组件更新完毕 |
| beforeDestroy | 组件销毁之前 |
| destroyed | 组件销毁后 |

可根据不同周期的特性执行不同的操作。
<!-- more -->

# 收获
## 从用户方便的角度设计
评论与点赞都是用户登录之后才能进行的操作，但是用户浏览到一个主题想要评论或者收藏、点赞的时候，因为没有登录所以不能进行此操作，在这时我们就要设计的可以在dangling情况下自主登录，若登录的话跳转到登录页面，登录之后返回原页面并刷新页面。

## 需要从 API 中获取数据，那么成功与失败两种情况都要考虑到
虽然之前没有获取失败过，但是也要考虑到这种情况，写出处理办法，一旦用户出现获取数据失败的情况也能正确解决。

## 有的时候解决一个问题会出现很多其他的问题
解决某个bug的时候还是要在更改完之后把整个项目的流程点一遍，因为之前出现爱你过这种情况，提交更改并合并maste分支之后才发现别的地方又出现了新的bug。

## 应该多注意数据状态的变化
avatar_url错误就是因为没有多关注sub对象状态的变化，所以这个错误其实只需要改一个mutation而已，但是我就耗费了很长时间想办法。
