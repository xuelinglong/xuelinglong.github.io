---
title: å‘¨æŠ¥ä¸€
date: 2017-12-17 19:49:44
tags: å‘¨æŠ¥
---

# æœ¬å‘¨åšçš„äº‹
topicï¼Œmyä¸¤ä¸ªæ¨¡å—ã€‚

# é‡åˆ°çš„é—®é¢˜
## mint-uiä½¿ç”¨é”™è¯¯ï¼›
æ­¤é—®é¢˜éè‡ªå·±æ£€æŸ¥å‡ºæ¥çš„ï¼Œmint-uiæœ‰å®˜æ–¹æ–‡æ¡£å’Œä»£ç åº“å’Œdemoï¼Œç»“åˆç€çœ‹æ‰èƒ½çŸ¥é“ç©¶ç«Ÿæ€ä¹ˆä½¿ç”¨ã€‚
## é¡µé¢é€»è¾‘ï¼›
å¼€å§‹æ—¶æ›´æ”¹è¿‡ä¸€æ¬¡é¡µé¢é€»è¾‘ï¼Œåé¢å‘ç°å…¶å®ä¸ç”¨åˆ»æ„çš„å†™é¡µé¢é€»è¾‘ï¼Œæ¯ä¸ªé¡µé¢éƒ½æ˜¯ä¸€ä¸ªå•ç‹¬çš„vueæ–‡ä»¶ï¼Œé¡µé¢é—´åº”è¯¥æ˜¯å¯ä»¥è‡ªç”±ç»„åˆçš„ï¼Œå› æ­¤æˆ‘åœ¨æ­¤æ–¹é¢è€—è´¹äº†å¤ªé•¿æ—¶é—´ã€‚
<!-- more -->
## axiosåº“ï¼›
getæ–¹æ³•ï¼š
```
const HOST = 'https://www.vue-js.com/api/v1/'
[type.FETCH_TOPICS](context, payload) {
        axios.get(HOST + `topics`, {
            params: {
                tab: payload.tab,
                page: payload.page,
                limit: payload.limit
            }
        }).then(res => {
            let DATA = res.data.data;
            let arr = context.state.topics.data.concat(DATA);
            if (DATA.length > 0) {
                context.commit(type.FETCH_TOPICS, {
                    data: arr
                });
            }
        }).catch(err => console.log(err));
    }
    // æ‹¼æ¥ä¸ºï¼šhttps://www.vue-js.com/api/v1/topics?tab=xxx&page=xxx&limit=xxx
```
## ç”¨æˆ·ç™»å½•ï¼›
post /accesstoken éªŒè¯ accessToken çš„æ­£ç¡®æ€§;

æ¥æ”¶ post å‚æ•°:
accesstoken  String  ç”¨æˆ·çš„ accessToken, å¦‚æœæˆåŠŸåŒ¹é…ä¸Šç”¨æˆ·ï¼Œè¿”å›æˆåŠŸä¿¡æ¯ã€‚å¦åˆ™ 403ã€‚

è¿”å›å€¼ç¤ºä¾‹:  {success: true, loginname: req.user.loginname}

```
type.LOGIN_USER](context, payload) {
        axios({
            method: 'post',
            url: HOST + 'accesstoken',
            params: {
                accesstoken: payload.accesstoken
            }
        }).then(res => {
            context.commit(type.LOGIN_USER, {
                data: res.data
            });
        }).catch(err => console.log(err));
    }
```
postæ–¹æ³•ä¼šæŠ¥é”™ï¼š
```
// 1.
Request URL:http://localhost:4040/api/accesstoken?accesstoken=2cf09343-2162-48c8-88aa-bba001aa155d
Request Method:GET
Status Code:301 Moved Permanently

// 2.
Request URL:http://localhost:4040/api/accesstoken?accesstoken=2cf09343-2162-48c8-88aa-bba001aa155d
Request Method:POST
Status Code:301 Moved Permanently

// 3.
Request URL:https://www.vue-js.com/api/v1/accesstoken?accesstoken=2cf09343-2162-48c8-88aa-bba001aa155d
Request Method:GET
Status Code:404 Not Found
```
æ­¤é—®é¢˜æœªè§£å†³ã€‚

## æ»‘åŠ¨åŠ è½½ï¼›
```
        <mt-tab-container v-model="selected"
            v-infinite-scroll="loadMore"
            infinite-scroll-disabled="loading"
            infinite-scroll-distance="10">

            <mt-tab-container-item id="all">
                <v-list :tabName="selected" :subjects="subjects"></v-list>
            </mt-tab-container-item>
            <mt-tab-container-item id="good">
                <v-list :tabName="selected" :subjects="subjects"></v-list>
            </mt-tab-container-item>
            <mt-tab-container-item id="weex">
                <v-list :tabName="selected" :subjects="subjects"></v-list>
            </mt-tab-container-item>
            <mt-tab-container-item id="share">
                <v-list :tabName="selected" :subjects="subjects"></v-list>
            </mt-tab-container-item>
            <mt-tab-container-item id="ask">
                <v-list :tabName="selected" :subjects="subjects"></v-list>
            </mt-tab-container-item>
            <mt-tab-container-item id="job">
                <v-list :tabName="selected" :subjects="subjects"></v-list>
            </mt-tab-container-item>
            
            <p v-show="loading" class="page-infinite-loading">
                <mt-spinner type="fading-circle"></mt-spinner>
                åŠ è½½ä¸­...
            </p>
        </mt-tab-container>
<script>
export default {
    data() {
      return {
        loading: false,
        allLoaded: false,
        wrapperHeight: 0
      };
    },
    methods: {
        loadMore() {
            this.loading = true;
            this.page += 1;
            this.fetch(this.selected, this.page, 20);
            this.loading = false;
            console.log('* loadMoreè¢«è§¦å‘äº†ğŸ‘©â€â¤ï¸â€ğŸ‘©ğŸ‘©â€â¤ï¸â€ğŸ‘©ğŸ‘©â€â¤ï¸â€ğŸ‘©');
        }
    }
</script>
```
é”™è¯¯è¡¨ç°ï¼šæ­¤æ—¶ä¼šåœ¨æœªæ»‘åŠ¨æ—¶æ‰§è¡Œä¸¤æ¬¡loadmoreã€‚

## å¸ƒå±€ï¼›
headerå’Œtabbarçš„å®½åº¦æ˜æ˜¾ä¸åŒï¼Œç›®å‰ä¸ç†è§£æµè§ˆå™¨ä¸­iPhone7æ‰‹æœºæ¨¡å¼ï¼ˆ375*667ï¼‰é¢„è§ˆæ—¶ï¼Œä¸ºä»€ä¹ˆbodyçš„å®½åº¦æ˜¯359ï¼Œä¸­é—´çš„å®½åº¦å·®æ˜¯æ€ä¹ˆå›äº‹ã€‚

# æ”¶è·
ç»è¿‡æœ¬å‘¨çš„å­¦ä¹ ï¼Œç°åœ¨å¯¹è·å–APIä¼¤çš„æ•°æ®æ›´åŠ ç†Ÿç»ƒï¼Œä½†æ˜¯å‘ç°è‡ªå·±çš„ä»£ç å°‘äº†å¾ˆå¤šå¿…é¡»çš„ä¸œè¥¿ï¼Œæ¯”å¦‚è¯´ï¼š
1.ç‚¹å‡»ç™»å½•æŒ‰é’®ååº”è¯¥æ·»åŠ ä¸€ä¸ªåŠ è½½ä¸­çš„é¡µé¢ä½œä¸ºä¸­è½¬çŠ¶æ€ï¼›
2.è·å–æ•°æ®å¤±è´¥æ—¶å¦‚ä½•å¤„ç†é”™è¯¯ä¿¡æ¯ï¼›
3.å¯ä»¥å†™ä¸€ä¸ªjsæ–‡ä»¶ç”¨æ¥å­˜å‚¨cookiesç­‰ã€‚